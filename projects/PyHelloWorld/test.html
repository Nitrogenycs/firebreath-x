<!--
    Auto-generated test-site
-->
<html>
<head>
<title>test page for object fbcontrol</title>
</head>
    <script type="text/javascript">
        function plugin0()
        {
            return document.getElementById('plugin0');
        }

        plugin = plugin0;

        function addEvent(obj, name, func)
        {
            if (window.addEventListener) {
                obj.addEventListener(name, func, false); 
            } else {
                obj.attachEvent("on"+name, func);
            }
        }
        
		function test()
		{
			return 
		}
				
        function load()
        {
            addEvent(plugin(), 'fired', function(x){
                alert('onfired() from load(): '+x)
            });
			
        }
		
        function callMe() {
            alert('Yepeeeeh');
        }
        
		var ext;
        var p;
        var v;

        function pluginLoaded() {
            //alert("Plugin loaded!");
			ext = plugin0().getHelloPyExtension();
            p = ext.getPlugin()
            v = {'prop1': 1, 'f1': callMe}
        }
        
        function dict_test() {
            return p.dict_method({"bla":1})
        }
                       
        function addTestEvent()
        {
            addEvent(plugin(), 'fired', function(x){
                alert('onfired(): '+x)
            });
        }
        
        function testEvent()
        {
            plugin().testEvent('test stuff');
        }
        
        function pluginValid()
        {
            alert(plugin().valid);
        }
        
        function Mammal(name){ 
            this.name=name;
            this.offspring=[];
        } 
        Mammal.prototype.haveABaby=function(){ 
            var newBaby=new Mammal("Baby "+this.name);
            this.offspring.push(newBaby);
            return newBaby;
        } 
        Mammal.prototype.toString=function(){ 
            return '[Mammal "'+this.name+'"]';
        } 


        Cat.prototype = new Mammal();        // Here's where the inheritance occurs 
        Cat.prototype.constructor=Cat;       // Otherwise instances of Cat would have a constructor of Mammal 
        function Cat(name){ 
            this.name=name;
        } 
        Cat.prototype.toString=function(){ 
            return '[Cat "'+this.name+'"]';
        } 


        var someAnimal = new Mammal('Mr. Biggles');
        var myPet = new Cat('Felix');

    </script>
<body onload="load()">


<object id="plugin0" type="application/x-pyhelloworld" width="300" height="300">
    <param name="onload" value="pluginLoaded" />
</object><br />

<a href="#" onclick="javascript:addTestEvent()">set event handler</a> <br />

<a href="#" onclick="javascript:testEvent()">Fire event</a> <br />

<a href="#" onclick="javascript:pluginValid()">alert plugin valid</a> <br />

</body>
</html>
